jQuery(function(e){e(".burger").length&&e(".burger").click(function(){return e(".container").toggleClass("mm-o"),!1})});document.querySelectorAll(".menu-mobile .menu-item-has-children").forEach(e=>{e.addEventListener("click",o=>{o.preventDefault();const t=e.querySelector(".sub-menu-wrapper");e.querySelector(".menu-chevron-icon").classList.toggle("rotated"),t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"})});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".top-alert-bar-close"),o=document.querySelector(".top-alert-bar");e.addEventListener("click",function(){o.classList.add("hidden"),setTimeout(()=>{o.remove()},300)})});jQuery(function(e){e(".top-alert-bar-list").slick({vertical:!0,verticalSwiping:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2500,arrows:!1,dots:!1})});document.addEventListener("DOMContentLoaded",()=>{function e(){const o=document.querySelector(".lang-switcher"),t=o.querySelector(".lang-switcher-toggle");o.querySelector(".lang-switcher-list"),t.addEventListener("click",i=>{i.stopPropagation(),o.classList.toggle("open")}),document.addEventListener("click",i=>{o.contains(i.target)||o.classList.remove("open")})}e(),document.querySelector(".burger").addEventListener("click",()=>{const o=document.querySelector(".menu-mobile .lang-switcher");if(o&&!o.dataset.initialized){o.dataset.initialized=!0;const t=o.querySelector(".lang-switcher-toggle");o.querySelector(".lang-switcher-list"),t.addEventListener("click",i=>{i.stopPropagation(),o.classList.toggle("open")}),document.addEventListener("click",i=>{o.contains(i.target)||o.classList.remove("open")})}})});jQuery(function(e){if(e(".on-mobile-slider").length){let t=function(){e(".on-mobile-slider").css("display")==="flex"?e(".on-mobile-slider").hasClass("slick-initialized")&&e(".on-mobile-slider").slick("unslick"):e(".on-mobile-slider").hasClass("slick-initialized")||e(".on-mobile-slider").slick({slidesToScroll:1,slidesToShow:1,infinite:!1,arrows:!0,dots:!1,centerMode:!1,adaptiveHeight:!1,responsive:[{breakpoint:1023,settings:{slidesToScroll:1,slidesToShow:2.5}},{breakpoint:768,settings:{slidesToScroll:1,slidesToShow:2}},{breakpoint:650,settings:{slidesToScroll:1,slidesToShow:1.5}},{breakpoint:450,settings:{slidesToScroll:1,slidesToShow:1.2}}]})};var o=t;t(),e(window).resize(e.debounce(100,t))}});jQuery(function(e){if(e(".on-mobile-slider-no-arrow").length){let t=function(){e(".on-mobile-slider-no-arrow").css("display")==="flex"?e(".on-mobile-slider-no-arrow").hasClass("slick-initialized")&&e(".on-mobile-slider-no-arrow").slick("unslick"):e(".on-mobile-slider-no-arrow").hasClass("slick-initialized")||e(".on-mobile-slider-no-arrow").slick({slidesToScroll:1,slidesToShow:1,infinite:!1,arrows:!1,dots:!1,centerMode:!1,adaptiveHeight:!1,responsive:[{breakpoint:1023,settings:{slidesToScroll:1,slidesToShow:2.3}},{breakpoint:768,settings:{slidesToScroll:1,slidesToShow:1.8}},{breakpoint:650,settings:{slidesToScroll:1,slidesToShow:1.5}},{breakpoint:450,settings:{slidesToScroll:1,slidesToShow:1.2}}]})};var o=t;t(),e(window).resize(e.debounce(100,t))}});jQuery(function(e){if(e(".on-solutions-slider").length){let t=function(){e(".on-solutions-slider").css("display")==="flex"?e(".on-solutions-slider").hasClass("slick-initialized")&&e(".on-solutions-slider").slick("unslick"):e(".on-solutions-slider").hasClass("slick-initialized")||e(".on-solutions-slider").slick({slidesToScroll:1,slidesToShow:2.5,infinite:!1,arrows:!1,dots:!1,centerMode:!1,adaptiveHeight:!1,responsive:[{breakpoint:1200,settings:{slidesToScroll:1,slidesToShow:2.5}},{breakpoint:1023,settings:{slidesToScroll:1,slidesToShow:2}},{breakpoint:768,settings:{slidesToScroll:1,slidesToShow:1.5}}]})};var o=t;t(),e(window).resize(e.debounce(100,t))}});jQuery(function(e){if(e(".only-tablet-slider").length){let t=function(){e(".only-tablet-slider").css("display")==="flex"?e(".only-tablet-slider").hasClass("slick-initialized")&&e(".only-tablet-slider").slick("unslick"):e(".only-tablet-slider").hasClass("slick-initialized")||e(".only-tablet-slider").slick({slidesToScroll:1,slidesToShow:2.5,infinite:!1,arrows:!0,dots:!1,centerMode:!1,adaptiveHeight:!1,responsive:[{breakpoint:1200,settings:{slidesToScroll:1,slidesToShow:2.5}},{breakpoint:1023,settings:{slidesToScroll:1,slidesToShow:2}},{breakpoint:768,settings:{slidesToScroll:1,slidesToShow:1.5}}]})};var o=t;t(),e(window).resize(e.debounce(100,t))}});jQuery(function(e){const o=window.location.pathname;e(".logo-link-line-list-item-link").each(function(){const t=e(this);t.attr("href")===o&&t.addClass("active")})});jQuery(function(e){if(e(".logo-link-line-slider").length){let t=function(){e(".logo-link-line-slider").css("display")==="flex"?e(".logo-link-line-slider").hasClass("slick-initialized")&&e(".logo-link-line-slider").slick("unslick"):e(".logo-link-line-slider").hasClass("slick-initialized")||e(".logo-link-line-slider").slick({slidesToScroll:1,slidesToShow:1,infinite:!1,arrows:!0,dots:!1,centerMode:!1,adaptiveHeight:!1,variableWidth:!0})};var o=t;t(),e(window).resize(e.debounce(100,t))}});jQuery(function(e){e.fn.fancybox&&e("[data-fancybox='gallery']").fancybox({buttons:["close"],loop:!0,animationEffect:"zoom-in-out"});function o(){e(".photo-carousel").hasClass("slick-initialized")||e(".photo-carousel").slick({slidesToScroll:1,infinite:!1,arrows:!1,dots:!1,centerMode:!1,adaptiveHeight:!1,variableWidth:!0})}o(),e(window).resize(e.debounce(100,o))});document.addEventListener("DOMContentLoaded",function(){if(document.querySelector(".thnx-block")){let e=10;const o=document.getElementById("countdown");if(!o)return;const t=setInterval(()=>{e--,o.textContent=e,e<=0&&(clearInterval(t),window.location.href="https://setplex.com")},1e3)}});jQuery(function(e){e("#openModalBtn1, #openModalBtn2, #openModalBtn3").on("click",function(){e("#my-modal").fadeIn(),e("body").css("overflow","hidden")}),e(".close").on("click",function(){e("#my-modal").fadeOut(),e("body").css("overflow","")}),e(window).on("click",function(o){e(o.target).is("#my-modal")&&(e("#my-modal").fadeOut(),e("body").css("overflow",""))}),e(document).on("keydown",function(o){o.key==="Escape"&&(e("#my-modal").fadeOut(),e("body").css("overflow",""))})});jQuery(document).ready(function(e){if(typeof e.fn.parsley>"u")return;var o=e("#getademoform").parsley();window.Parsley.addValidator("phoneLength",{validateString:function(i){var a=i.replace(/\D/g,"");return a.length>=10},messages:{en:"Enter a valid phone number with at least 10 digits."}}),e("#phone").attr("data-parsley-phoneLength","true");const t=["gmail.com","yahoo.com","hotmail.com"];window.Parsley.addValidator("emailDomainCheck",{validateString:function(i,a,s){if(s.$element.closest("form").hasClass("allow-free-email"))return!0;const n=i.split("@").pop().toLowerCase();return!t.includes(n)},messages:{en:"Please enter a valid work email address."}}),e("#email").attr("data-parsley-emailDomainCheck","true"),o.on("form:submit",function(){if(!o.isValid())return!1}),Parsley.setLocale("en")});function c(e){e.preventDefault();const o=e.target;if(!$(o).parsley().isValid()){$(o).parsley().validate();return}console.log("Страна перед отправкой в Salesforce:",window.selectedCountryName.trim()),console.log("window.selectedCountryName перед FormData:",window.selectedCountryName.trim());const t=new FormData(o),i={};t.forEach((s,r)=>{i[r]=s}),i.country_full_name=document.getElementById("country_full_name").value;const a=new URLSearchParams({action:"send_salesforce_form_email",...i});console.log("Отправляемые данные:",a.toString()),fetch(ajaxUrl,{method:"POST",body:new URLSearchParams({action:"send_salesforce_form_email",...i}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(s=>s.json()).then(s=>{s.success?(console.log("📨 Успешно отправлено в Salesforce!"),o.removeEventListener("submit",c),o.submit()):alert("❌ Ошибка отправки уведомления на email!")}).catch(s=>{console.error("❌ Ошибка при отправке данных:",s),alert("❌ Ошибка при отправке данных. Попробуйте позже.")})}window.selectedCountryName="";document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("country"),o=document.getElementById("phone"),t=document.getElementById("getademoform");let i=[];const a=intlTelInput(o,{initialCountry:"auto",geoIpLookup:function(n){fetch("https://ipapi.co/json").then(l=>l.json()).then(l=>{n(l.country_code)}).catch(()=>{n("US")})},utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@19.5.6/build/js/utils.js"});function s(){i=window.intlTelInputGlobals.getCountryData(),e.innerHTML='<option value="" selected disabled>Select</option>',i.forEach(n=>{const l=document.createElement("option");l.value=n.name,l.textContent=n.name,e.appendChild(l)})}setTimeout(s,500);function r(n){const l=i.find(d=>d.iso2===n);l&&(window.selectedCountryName=l.name)}o.addEventListener("countrychange",function(){const n=a.getSelectedCountryData();e.value=n.name,r(n.iso2)}),e.addEventListener("change",function(){r(this.value)}),t?t.addEventListener("submit",c):console.error("Форма не найдена!")});
